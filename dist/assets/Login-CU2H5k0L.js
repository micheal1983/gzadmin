import{c as u,a as s,w as n,v as l,b as d,r as i,u as m,o as c,d as w}from"./index-J5bTViEi.js";const f={class:"login-box"},g={__name:"Login",setup(x){const p=m(),e=i({username:"",password:""}),r=async()=>{if(!e.username||!e.password){alert("请填写完整信息");return}try{const t=await w.post("https://tp5-5wz8.onrender.com/api/user/login",e);t.data.code===200?(localStorage.setItem("token",t.data.data.token),alert("登录成功！"),p.push("/home")):alert(t.data.msg||"登录失败")}catch(t){console.error("请求出错:",t),alert("服务器响应错误")}};return(t,o)=>(c(),u("div",f,[o[2]||(o[2]=s("h2",null,"系统登录",-1)),n(s("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.username=a),type:"text",placeholder:"请输入用户名"},null,512),[[l,e.username]]),n(s("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>e.password=a),type:"password",placeholder:"请输入密码",onKeyup:d(r,["enter"])},null,544),[[l,e.password]]),s("button",{onClick:r},"登录")]))}};export{g as default};
